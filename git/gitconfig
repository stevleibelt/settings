[user]
    name    = stevleibelt
    email   = stev@leibelt.de

[color]
    ui          = auto
    diff        = auto
    status      = auto
    branch      = auto
    interactive = auto

[color "branch"]
    current = yellow
    local   = green
    remote  = red

[color "diff"]
    mega    = yellow bold
    frag    = magenta bold
    old     = red bold
    new     = green bold

[color "status"]
    added       = yellow
    changed     = green
    untracked   = red

[core]
    exludesfiles    = ~/.gitignore.global
    whitespaces     = trailing-space, space-before-tab
    pager           = less -RSX
    edit            = vim
    #safecrlf       = true
    #autocrlf       = false

[grep]
    extendedRegexp  = true

[log]
    #abbrevCommit   = true

[merge]
    conflictStyle   = diff3
	tool = meld

[mergetool]
    #todo
    #http://vim.wikia.com/wiki/A_better_Vimdiff_Git_mergetool
    #http://stackoverflow.com/questions/14904644/how-do-i-use-vimdiff-to-resolve-a-conflict
    #
    #keepBackup      = false
    #keepTemporaries = false
    #prompt          = false

[apply]
    #whitespace  = fix

[push]
    # 'nothing' : do not push anything
    # 'matching': push all matching branches (default)
    # 'upstream' : push current branch to whereever it is pointing
    # 'current' : push current branch
    #default = upstream

[pull]
    # be careful here
    # do not pull --no-rebase over a local line containing a true merge
    #rebase = true

[alias]
    #log
    log-head    = !git log | head
    log-history = !git log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit --date=relative --date-order
    log-local   = !git oneline ORIG_HEAD.. --stat --no-merges
    log-oneline = !git log --pretty=oneline --abbrev-commit --graph
    log-tail    = !git log | tail

    #diff
    show-changes        = diff --name-status
    show-diff-in-cached = diff --cached
    show-diff-status    = diff --stat
    duff                = diff  #praise to good of simpsons

    #cancel
    amend   = commit --amend
    unmerge = reset --merge ORIG_HEAD
    unadd   = reset HEAD --
    undo    = reset --soft HEAD^
    unstage = reset HEAD --

    #general
    list-curren-checkout        = describe --all

    #info
    track   = "!f() { ([ $# -eq 2 ] && ( echo \"Setting tracking for branch \" $1 \" -> \" $2;git branch --set-upstream $1 $2; ) || ( git for-each-ref --format=\"local: %(refname:short) <--sync--> remote: %(upstream:short)\" refs/heads && echo --Remotes && git remote -v)); }; f"
    ll      = "!f() { git log origin/master..$1; }; f"
    dd    = "!f() { git df origin/master...$1; }; f"

    #branch
    branch-new-from-master                  = checkout --no-track origin/master -b
    branch-clean-merged                     = !git branch --merged master | grep -v 'master$' | xargs git branch -d && git remote prune origin
    branch-serve-local                      = !git daemon --reuseaddr --verbose  --base-path=. --export-all ./.git
    branch-list-branches                    = branch -avv
    branch-list-remote-branches             = ls-remote --heads origin
    branch-list-not-merged                  = branch --no-merged
    branch-list-merged                      = branch --merged
    #@see: http://stevenharman.net/git-clean-delete-already-merged-branches
    list-already-merged-local-branches      = git branch --merged origin/master | grep -v 'master'
    delete-already-merged-local-branches    = git branch --merged origin/master | grep -v 'master' | xargs -n 1 git branch -d

    #files
    add-all         = add -A
    add-modified    = !git-ls-files -m -z | xargs -0 git-add && git status
    add-new         = !git-ls-files -o --exclude-standard -z | xargs -0 git-add && git status
    delete-marked   = !git ls-files -d -z | xargs -0 git-rm && git status

    #unknown :->
    lint = ! git status --porcelain | /bin/grep -e '^.\\(M\\|?\\).*\\.php$' | awk '{print $2}' | xargs -L 1 php -l

    #remove local changes
    remote-local-changes = clean -f -d

    #stash
    unstash = stash pop

    #push
    push-to-current-head  = push -u origin HEAD
    #push-to-master  = push -u origin master

    #upstream
    upstream-master-merge   = merge upstream/master
    upstream-master-rebase  = rebase upstream/master

    #tags
    list-newest-version-tag     = !git tag -l | sort -V | tail -n1
    list-newest-version-tags    = !git tag -l | sort -V | tail

# links | sources
# * https://github.com/MattKetmo/dotfiles/blob/master/git/gitconfig
